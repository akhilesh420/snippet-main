<form #f='ngForm'>
  <div class = "profileDisplay"
      [routerLink]='!isAuthenticated ? "/auth" : null'
      [ngStyle]='{"cursor": !isAuthenticated ? "pointer" : null}'>

    <div class = "row no-margin-no-padding profileDisplayBorder" [ngClass]='inEditing ? "profileDB-edit" : null'>
      <div class = "col no-margin-no-padding" *ngIf='isAuthenticated'>
        <div class = "row no-margin-no-padding displayStickers">

          <div class = "sticker col-2 no-margin-no-padding">
            <svg class='backbutton' (click)='onClickBack()' *ngIf="inEditing;" width="17" height="23" viewBox="0 0 17 23" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.799858 13.1343C0.941021 13.2475 1.09678 13.3481 1.26445 13.4343L12.2597 22.3479C12.7764 22.7606 13.4733 22.991 14.1987 22.9888C14.924 22.9865 15.6188 22.7519 16.1317 22.3361C16.6445 21.9203 16.9338 21.3569 16.9364 20.7689C16.9391 20.1808 16.6549 19.6158 16.1458 19.197L6.67656 11.5201L16.1946 3.80314C16.7099 3.3854 16.9995 2.81881 16.9995 2.228C16.9996 1.6372 16.7101 1.07057 16.1949 0.652781C15.6796 0.234991 14.9807 0.000255585 14.252 0.000217438C13.5232 0.000179291 12.8243 0.23484 12.309 0.652576L1.26445 9.60752C0.917896 9.79578 0.626503 10.0434 0.410805 10.3329C0.195108 10.6223 0.06036 10.9467 0.0160599 11.2829C-0.0282402 11.6192 0.0189877 11.9593 0.154413 12.2792C0.289839 12.5991 0.510164 12.891 0.799858 13.1343Z" fill="#E2B33D"/>
            </svg>

          </div>

          <div class = "sticker col-2 no-margin-no-padding" *ngFor='let sticker of profileStickers; let i = index;'>
            <div class = "stickerContainer"
                [ngClass]="{'stickerContainer-bck': sticker === null, 'stickerContainer-edit': index === i}"
                (click)='clickProfileSticker(sticker,i)'>

              <app-sticker *ngIf='sticker != null' [pid]="sticker.pid" [overrideNavigate]='inEditing'></app-sticker>

              <div class="sticker-opacity-edit" [ngClass]='(inEditing && sticker != null) && index != i ? "opacity-in-sticker" : "opacity-out-sticker"'></div>
              <!-- Edit Mode -->
              <svg *ngIf='(inEditing || sticker === null) && index != i' class = "svgCenter" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_b)">
                <rect x="8" width="4" height="20" rx="2" fill="white"/>
                <rect y="8" width="20" height="4" rx="2" fill="white"/>
                </g>
                <defs>
                <filter id="filter0_b" x="-4" y="-4" width="28" height="28" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feGaussianBlur in="BackgroundImage" stdDeviation="2"/>
                <feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur" result="shape"/>
                </filter>
                </defs>
              </svg>

            </div>
          </div>

        </div>

        <div class = "row no-margin-no-padding profileDetailsTop" *ngIf='!editStickers'>

          <div class = "col-3 no-margin-no-padding displayPicture">
            <div class = "dpContainer" [ngClass]='{"dpContainer-edit": inEditing, "dpContainer-bck": !tempDisplayPicture$.value}'>
              <div class="file-input-container">
                <input
                type="file"
                id="postFile"
                class="form-control-file float-center"
                accept="image/x-png,image/gif,image/jpeg"
                (change)="fileUpload($event)"
                name="content"
                #dpInput>
              </div>
              <img [ngClass]='inEditing ? "opacity-in-details" :  "opacity-out-details"'
                    *ngIf="tempDisplayPicture$ | async as content;"
                    class='dp'
                    [src]="content"
                    alt="display picture">
              <div *ngIf="inEditing;"
                    (click)="onAddClick()">
                <svg class="dpContainer-edit-img" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="8" width="4" height="20" rx="2" fill="#E2B33D"/>
                  <rect y="8" width="20" height="4" rx="2" fill="#E2B33D"/>
                </svg>
              </div>
            </div>
          </div>

          <div class = "col-8 no-margin-no-padding profileDescription">

            <div *ngIf="!inEditing;">
              {{description}}
            </div>

            <div class='input'
                *ngIf="inEditing && editDesc;"
                 contenteditable="true"
                 #descriptionRef
                 [textContent]="tempDescription"
                 (input)="tempDescription=$event.target.textContent"
                 (keydown.enter)="onPressEnter($event)"
                 (focus)='setCaret(true)'>
              {{description}}
            </div>

            <svg *ngIf="inEditing && !editDesc;"
                 (click)='onEditDescClick()'
                 class = "svgStyle"
                 width="253.33" height="90.17" viewBox="0 0 253.33 90.17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#filter0_d)">
              <rect x="1" y="1" width="238" height="88" rx="5.5" stroke="url(#paint0_linear)"/>
              </g>
              <path d="M56.6094 41.5234L57.5938 42.3984C56.3281 43.5495 54.9349 44.125 53.4141 44.125C51.7786 44.125 50.3958 43.5625 49.2656 42.4375C48.1406 41.3073 47.5781 39.9531 47.5781 38.375C47.5781 36.8125 48.1406 35.4635 49.2656 34.3281C50.3958 33.1927 51.7786 32.625 53.4141 32.625C54.9349 32.625 56.3281 33.2031 57.5938 34.3594L56.6094 35.2344C55.5781 34.3229 54.513 33.8672 53.4141 33.8672C52.2161 33.8672 51.1797 34.3047 50.3047 35.1797C49.4349 36.0495 49 37.1146 49 38.375C49 39.6458 49.4349 40.7161 50.3047 41.5859C51.1797 42.4557 52.2161 42.8906 53.4141 42.8906C54.513 42.8906 55.5781 42.4349 56.6094 41.5234ZM60.4281 32.7578H61.8422V36.8594C62.0818 36.599 62.5766 36.4688 63.3266 36.4688C64.2276 36.4688 64.9542 36.7448 65.5063 37.2969C66.0583 37.849 66.3396 38.5234 66.35 39.3203V44H64.9438V39.3828C64.9438 38.8984 64.7797 38.4974 64.4516 38.1797C64.1234 37.8568 63.7484 37.6953 63.3266 37.6953C62.9099 37.6953 62.5427 37.8464 62.225 38.1484C62.0427 38.3307 61.9151 38.5052 61.8422 38.6719V44H60.4281V32.7578ZM77.1922 44H75.7781V42.75C75.2208 43.7083 74.3719 44.1875 73.2313 44.1875C72.101 44.1875 71.1427 43.7969 70.3563 43.0156C69.575 42.2292 69.1844 41.3021 69.1844 40.2344C69.1844 39.1562 69.575 38.2266 70.3563 37.4453C71.1427 36.6641 72.101 36.2734 73.2313 36.2734C74.3719 36.2734 75.2208 36.7474 75.7781 37.6953V36.8594H77.1922V44ZM75.7781 40.7969V39.6562C75.6792 39.1406 75.4422 38.6953 75.0672 38.3203C74.5411 37.7891 73.9292 37.5234 73.2313 37.5234C72.5281 37.5234 71.9188 37.7839 71.4031 38.3047C70.8875 38.8255 70.6297 39.4688 70.6297 40.2344C70.6297 40.9948 70.8875 41.6328 71.4031 42.1484C71.9188 42.6641 72.5281 42.9219 73.2313 42.9219C73.9292 42.9219 74.5411 42.6589 75.0672 42.1328C75.4422 41.7578 75.6792 41.3125 75.7781 40.7969ZM81.675 38.6719V44H80.2609V36.8594H81.675C81.9146 36.599 82.4094 36.4688 83.1594 36.4688C84.0604 36.4688 84.787 36.7448 85.3391 37.2969C85.8911 37.849 86.1724 38.5234 86.1828 39.3203V44H84.7766V39.3828C84.7766 38.8984 84.6125 38.4974 84.2844 38.1797C83.9562 37.8568 83.5812 37.6953 83.1594 37.6953C82.7427 37.6953 82.3755 37.8464 82.0578 38.1484C81.8755 38.3307 81.7479 38.5052 81.675 38.6719ZM95.5484 39.6328C95.4443 39.1276 95.1995 38.6797 94.8141 38.2891C94.3089 37.7786 93.7073 37.5234 93.0094 37.5234C92.3063 37.5234 91.6969 37.7839 91.1813 38.3047C90.6656 38.8255 90.4078 39.4688 90.4078 40.2344C90.4078 40.9948 90.6656 41.6354 91.1813 42.1562C91.6969 42.6719 92.3063 42.9297 93.0094 42.9297C93.7073 42.9297 94.3193 42.6667 94.8453 42.1406C95.2099 41.776 95.4443 41.3438 95.5484 40.8438V39.6328ZM95.4547 42.7891C94.9651 43.7214 94.15 44.1875 93.0094 44.1875C91.8792 44.1875 90.9208 43.7969 90.1344 43.0156C89.3531 42.2292 88.9625 41.3021 88.9625 40.2344C88.9625 39.1562 89.3531 38.2292 90.1344 37.4531C90.9208 36.6719 91.8792 36.2812 93.0094 36.2812C94.1448 36.2812 94.9938 36.7526 95.5563 37.6953V36.8594H96.9703V42.2344C96.9703 43.2812 96.5927 44.1797 95.8375 44.9297C95.0458 45.7266 94.0823 46.125 92.9469 46.125C91.8115 46.125 90.8557 45.737 90.0797 44.9609C89.9026 44.7786 89.6786 44.5078 89.4078 44.1484L90.7594 43.6562C90.9417 43.8854 91.0693 44.0312 91.1422 44.0938C91.6474 44.6042 92.249 44.8594 92.9469 44.8594C94.4208 44.8594 95.2568 44.1693 95.4547 42.7891ZM101.242 38.9766H105.922C105.589 38.0078 104.812 37.5234 103.594 37.5234C102.37 37.5234 101.586 38.0078 101.242 38.9766ZM100.992 40.2109V40.2344C100.992 40.9948 101.25 41.6328 101.766 42.1484C102.281 42.6641 102.891 42.9219 103.594 42.9219C104.292 42.9219 104.904 42.6589 105.43 42.1328C105.503 42.0599 105.643 41.8958 105.852 41.6406L107.18 42.1094C106.982 42.4427 106.753 42.737 106.492 42.9922C105.701 43.7891 104.734 44.1875 103.594 44.1875C102.464 44.1875 101.505 43.7969 100.719 43.0156C99.9375 42.2292 99.5469 41.3021 99.5469 40.2344C99.5469 39.1562 99.9375 38.2266 100.719 37.4453C101.505 36.6641 102.464 36.2734 103.594 36.2734C104.734 36.2734 105.701 36.6693 106.492 37.4609C107.174 38.1484 107.516 39.0651 107.516 40.2109H100.992ZM117.255 40.3203V44H115.841V32.7578H119.059C119.997 32.8828 120.781 33.263 121.411 33.8984C122.145 34.6328 122.512 35.5104 122.512 36.5312C122.512 37.5573 122.14 38.4453 121.395 39.1953C120.651 39.9453 119.734 40.3203 118.645 40.3203H117.255ZM117.255 33.9922V39.0859H118.645C119.302 39.0859 119.874 38.8438 120.364 38.3594C120.854 37.8698 121.098 37.2604 121.098 36.5312C121.098 35.8073 120.854 35.2031 120.364 34.7188C119.874 34.2344 119.302 33.9922 118.645 33.9922H117.255ZM128.394 37.9219C127.748 38.0208 127.248 38.2786 126.894 38.6953C126.54 39.1068 126.363 39.625 126.363 40.25V44H124.948V36.8594H126.363V37.875C126.571 37.3177 127.019 36.9297 127.706 36.7109L128.394 37.9219ZM135.009 36.2734C136.15 36.2734 137.108 36.6641 137.884 37.4453C138.66 38.2266 139.048 39.1562 139.048 40.2344C139.048 41.3021 138.66 42.2292 137.884 43.0156C137.108 43.7969 136.15 44.1875 135.009 44.1875C133.879 44.1875 132.921 43.7969 132.134 43.0156C131.353 42.2292 130.963 41.3021 130.963 40.2344C130.963 39.1562 131.353 38.2266 132.134 37.4453C132.921 36.6641 133.879 36.2734 135.009 36.2734ZM135.009 37.5234C134.306 37.5234 133.697 37.7839 133.181 38.3047C132.666 38.8255 132.408 39.4688 132.408 40.2344C132.408 40.9948 132.666 41.6328 133.181 42.1484C133.697 42.6641 134.306 42.9219 135.009 42.9219C135.707 42.9219 136.314 42.6641 136.83 42.1484C137.351 41.6328 137.611 40.9948 137.611 40.2344C137.611 39.4688 137.351 38.8255 136.83 38.3047C136.314 37.7839 135.707 37.5234 135.009 37.5234ZM143.461 38.0781V44H142.047V38.0781H141.391V36.8594H142.047V35.3984C142.083 34.8411 142.302 34.3568 142.703 33.9453C143.156 33.5286 143.68 33.3203 144.273 33.3203C144.732 33.3203 145.154 33.4141 145.539 33.6016L145.125 34.7734C144.807 34.5911 144.542 34.5 144.328 34.5C144.141 34.5 143.951 34.5859 143.758 34.7578C143.576 34.9453 143.477 35.1771 143.461 35.4531V36.8594H144.789V38.0781H143.461ZM148.889 36.8594V44H147.483V36.8594H148.889ZM148.194 34.5469C148.48 34.5469 148.717 34.6406 148.905 34.8281C149.097 35.0104 149.194 35.2161 149.194 35.4453C149.194 35.6849 149.097 35.8984 148.905 36.0859C148.717 36.2682 148.48 36.3594 148.194 36.3594C147.897 36.3594 147.655 36.2682 147.467 36.0859C147.28 35.8984 147.186 35.6849 147.186 35.4453C147.186 35.2161 147.28 35.0104 147.467 34.8281C147.655 34.6406 147.897 34.5469 148.194 34.5469ZM153.692 32.7578V44H152.278V32.7578H153.692ZM158.261 38.9766H162.941C162.607 38.0078 161.831 37.5234 160.613 37.5234C159.389 37.5234 158.605 38.0078 158.261 38.9766ZM158.011 40.2109V40.2344C158.011 40.9948 158.269 41.6328 158.784 42.1484C159.3 42.6641 159.909 42.9219 160.613 42.9219C161.31 42.9219 161.922 42.6589 162.448 42.1328C162.521 42.0599 162.662 41.8958 162.87 41.6406L164.198 42.1094C164.001 42.4427 163.771 42.737 163.511 42.9922C162.719 43.7891 161.753 44.1875 160.613 44.1875C159.482 44.1875 158.524 43.7969 157.738 43.0156C156.956 42.2292 156.566 41.3021 156.566 40.2344C156.566 39.1562 156.956 38.2266 157.738 37.4453C158.524 36.6641 159.482 36.2734 160.613 36.2734C161.753 36.2734 162.719 36.6693 163.511 37.4609C164.193 38.1484 164.534 39.0651 164.534 40.2109H158.011ZM51.3359 60.7734C51.987 60.7734 52.5547 60.5312 53.0391 60.0469C53.5286 59.5573 53.7734 58.9505 53.7734 58.2266C53.7734 57.5026 53.5286 56.8958 53.0391 56.4062C52.5547 55.9167 51.987 55.6719 51.3359 55.6719H49.2891V60.7734H51.3359ZM49.2891 51.9766V54.4453H51.5547C51.862 54.4141 52.099 54.3125 52.2656 54.1406C52.4948 53.9167 52.6094 53.6172 52.6094 53.2422C52.6094 52.8776 52.4896 52.5755 52.25 52.3359C52.0104 52.0964 51.7396 51.9766 51.4375 51.9766H49.2891ZM53.3047 54.9688C53.4766 55.0104 53.7448 55.2161 54.1094 55.5859C54.8385 56.3151 55.2031 57.1953 55.2031 58.2266C55.2031 59.2474 54.8255 60.1354 54.0703 60.8906C53.4609 61.5052 52.6901 61.875 51.7578 62H47.875V50.7578H51.4453C52.1797 50.7578 52.7943 51.0052 53.2891 51.5C53.7839 51.9948 54.0312 52.5755 54.0312 53.2422C54.0312 53.9141 53.7891 54.4896 53.3047 54.9688ZM59.5297 54.8594V62H58.1234V54.8594H59.5297ZM58.8344 52.5469C59.1208 52.5469 59.3578 52.6406 59.5453 52.8281C59.738 53.0104 59.8344 53.2161 59.8344 53.4453C59.8344 53.6849 59.738 53.8984 59.5453 54.0859C59.3578 54.2682 59.1208 54.3594 58.8344 54.3594C58.5375 54.3594 58.2953 54.2682 58.1078 54.0859C57.9203 53.8984 57.8266 53.6849 57.8266 53.4453C57.8266 53.2161 57.9203 53.0104 58.1078 52.8281C58.2953 52.6406 58.5375 52.5469 58.8344 52.5469ZM66.6687 54.2734C67.8094 54.2734 68.7677 54.6641 69.5437 55.4453C70.3198 56.2266 70.7078 57.1562 70.7078 58.2344C70.7078 59.3021 70.3198 60.2292 69.5437 61.0156C68.7677 61.7969 67.8094 62.1875 66.6687 62.1875C65.5385 62.1875 64.5802 61.7969 63.7937 61.0156C63.0125 60.2292 62.6219 59.3021 62.6219 58.2344C62.6219 57.1562 63.0125 56.2266 63.7937 55.4453C64.5802 54.6641 65.5385 54.2734 66.6687 54.2734ZM66.6687 55.5234C65.9656 55.5234 65.3562 55.7839 64.8406 56.3047C64.325 56.8255 64.0672 57.4688 64.0672 58.2344C64.0672 58.9948 64.325 59.6328 64.8406 60.1484C65.3562 60.6641 65.9656 60.9219 66.6687 60.9219C67.3667 60.9219 67.9734 60.6641 68.4891 60.1484C69.0099 59.6328 69.2703 58.9948 69.2703 58.2344C69.2703 57.4688 69.0099 56.8255 68.4891 56.3047C67.9734 55.7839 67.3667 55.5234 66.6687 55.5234Z" fill="#E2B33D"/>
              <defs>
              <filter id="filter0_d" x="0" y="0" width="251" height="101" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
              <feOffset dx="1" dy="3"/>
              <feGaussianBlur stdDeviation="3"/>
              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
              </filter>
              <linearGradient id="paint0_linear" x1="5" y1="6.44718" x2="219.718" y2="133.15" gradientUnits="userSpaceOnUse">
              <stop stop-color="#632FDE"/>
              <stop offset="0.0465075" stop-color="#8451B4"/>
              <stop offset="0.144441" stop-color="#A87687"/>
              <stop offset="0.462233" stop-color="#E2B33D"/>
              <stop offset="0.784198" stop-color="#DF9C3D"/>
              <stop offset="0.870785" stop-color="#DB7E3D"/>
              <stop offset="1" stop-color="#CF263C"/>
              </linearGradient>
              </defs>
            </svg>
          </div>

        </div>

        <div class = "row no-margin-no-padding profileDetailsBottom"
            [ngClass]='{"profileDetailsBottom-edit": inEditing}'
            *ngIf='!editStickers'>

          <div class="col-3"  *ngIf='myUid != uid'></div>

          <div class = "col-3 no-margin-no-padding"
              [ngClass]="{'editButton': !inEditing, 'editButton-edit': inEditing}"
              (click)='inEditing ? onSave() : resetState();' *ngIf='myUid === uid'>

            <p *ngIf="!inEditing; else saveButton" class = "editButtonText">Edit Profile</p>

            <ng-template #saveButton>
              <svg width="96" height="31" viewBox="0 0 96 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d)">
                <rect x="1" y="2" width="83" height="18" rx="1.5" stroke="url(#paint0_linear)"/>
                </g>
                <path d="M29.176 15.12C28.4 15.12 27.692 14.944 27.052 14.592C26.42 14.24 25.984 13.78 25.744 13.212C25.704 13.116 25.684 13.036 25.684 12.972C25.684 12.852 25.728 12.748 25.816 12.66C25.904 12.564 26.024 12.5 26.176 12.468C26.2 12.46 26.24 12.456 26.296 12.456C26.424 12.456 26.544 12.496 26.656 12.576C26.776 12.648 26.864 12.748 26.92 12.876C27.064 13.188 27.348 13.452 27.772 13.668C28.196 13.884 28.664 13.992 29.176 13.992C29.776 13.992 30.284 13.856 30.7 13.584C31.116 13.304 31.324 12.924 31.324 12.444C31.324 11.988 31.148 11.6 30.796 11.28C30.444 10.952 29.908 10.752 29.188 10.68C28.196 10.584 27.416 10.296 26.848 9.816C26.28 9.328 25.996 8.72 25.996 7.992C25.996 7.48 26.14 7.04 26.428 6.672C26.724 6.296 27.124 6.012 27.628 5.82C28.14 5.62 28.712 5.52 29.344 5.52C30.032 5.52 30.612 5.66 31.084 5.94C31.556 6.22 31.956 6.62 32.284 7.14C32.38 7.292 32.428 7.436 32.428 7.572C32.428 7.748 32.348 7.892 32.188 8.004C32.1 8.06 31.996 8.088 31.876 8.088C31.756 8.088 31.644 8.06 31.54 8.004C31.436 7.94 31.356 7.856 31.3 7.752C31.084 7.392 30.812 7.12 30.484 6.936C30.164 6.744 29.756 6.648 29.26 6.648C28.652 6.648 28.16 6.768 27.784 7.008C27.408 7.24 27.22 7.58 27.22 8.028C27.22 8.444 27.388 8.792 27.724 9.072C28.06 9.352 28.66 9.536 29.524 9.624C30.484 9.72 31.228 10.012 31.756 10.5C32.284 10.98 32.548 11.616 32.548 12.408C32.548 12.984 32.392 13.48 32.08 13.896C31.768 14.304 31.352 14.612 30.832 14.82C30.32 15.02 29.768 15.12 29.176 15.12ZM38.5177 8.388C39.1337 8.388 39.6897 8.536 40.1857 8.832C40.6897 9.12 41.0857 9.52 41.3737 10.032C41.6697 10.536 41.8177 11.1 41.8177 11.724V14.4C41.8177 14.576 41.7577 14.724 41.6377 14.844C41.5257 14.956 41.3817 15.012 41.2057 15.012C41.0297 15.012 40.8817 14.956 40.7617 14.844C40.6497 14.724 40.5937 14.576 40.5937 14.4V13.956C40.3137 14.3 39.9737 14.568 39.5737 14.76C39.1737 14.952 38.7417 15.048 38.2777 15.048C37.7017 15.048 37.1777 14.904 36.7057 14.616C36.2417 14.328 35.8737 13.932 35.6017 13.428C35.3377 12.916 35.2057 12.348 35.2057 11.724C35.2057 11.1 35.3497 10.536 35.6377 10.032C35.9257 9.52 36.3217 9.12 36.8257 8.832C37.3377 8.536 37.9017 8.388 38.5177 8.388ZM38.5177 13.968C38.9177 13.968 39.2777 13.872 39.5977 13.68C39.9257 13.48 40.1817 13.212 40.3657 12.876C40.5497 12.532 40.6417 12.148 40.6417 11.724C40.6417 11.3 40.5497 10.916 40.3657 10.572C40.1817 10.228 39.9257 9.96 39.5977 9.768C39.2777 9.568 38.9177 9.468 38.5177 9.468C38.1177 9.468 37.7537 9.568 37.4257 9.768C37.1057 9.96 36.8497 10.228 36.6577 10.572C36.4737 10.916 36.3817 11.3 36.3817 11.724C36.3817 12.148 36.4737 12.532 36.6577 12.876C36.8497 13.212 37.1057 13.48 37.4257 13.68C37.7537 13.872 38.1177 13.968 38.5177 13.968ZM49.5281 8.52C49.6321 8.568 49.7121 8.636 49.7681 8.724C49.8241 8.804 49.8521 8.896 49.8521 9C49.8521 9.072 49.8321 9.148 49.7921 9.228L47.2481 14.592C47.1281 14.856 46.9441 14.988 46.6961 14.988C46.5601 14.988 46.4481 14.96 46.3601 14.904C46.2721 14.84 46.1921 14.736 46.1201 14.592L43.5761 9.228C43.5441 9.164 43.5281 9.092 43.5281 9.012C43.5281 8.796 43.6401 8.632 43.8641 8.52C43.9361 8.48 44.0201 8.46 44.1161 8.46C44.2121 8.46 44.3041 8.488 44.3921 8.544C44.4801 8.592 44.5481 8.664 44.5961 8.76L46.6841 13.26L48.7481 8.76C48.7961 8.664 48.8641 8.592 48.9521 8.544C49.0481 8.488 49.1481 8.46 49.2521 8.46C49.3561 8.46 49.4481 8.48 49.5281 8.52ZM57.9079 11.616C57.9079 11.768 57.8559 11.896 57.7519 12C57.6479 12.096 57.5159 12.144 57.3559 12.144H52.7959C52.8839 12.704 53.1359 13.156 53.5519 13.5C53.9759 13.844 54.4919 14.016 55.0999 14.016C55.3399 14.016 55.5879 13.972 55.8439 13.884C56.1079 13.796 56.3239 13.688 56.4919 13.56C56.6039 13.472 56.7359 13.428 56.8879 13.428C57.0399 13.428 57.1599 13.468 57.2479 13.548C57.3919 13.668 57.4639 13.804 57.4639 13.956C57.4639 14.1 57.3999 14.22 57.2719 14.316C56.9999 14.532 56.6599 14.708 56.2519 14.844C55.8519 14.98 55.4679 15.048 55.0999 15.048C54.4439 15.048 53.8559 14.908 53.3359 14.628C52.8159 14.34 52.4079 13.944 52.1119 13.44C51.8239 12.936 51.6799 12.364 51.6799 11.724C51.6799 11.084 51.8159 10.512 52.0879 10.008C52.3679 9.496 52.7519 9.1 53.2399 8.82C53.7359 8.532 54.2959 8.388 54.9199 8.388C55.5359 8.388 56.0679 8.524 56.5159 8.796C56.9639 9.068 57.3079 9.448 57.5479 9.936C57.7879 10.424 57.9079 10.984 57.9079 11.616ZM54.9199 9.42C54.3359 9.42 53.8599 9.58 53.4919 9.9C53.1319 10.22 52.9039 10.648 52.8079 11.184H56.8039C56.7319 10.648 56.5319 10.22 56.2039 9.9C55.8759 9.58 55.4479 9.42 54.9199 9.42Z" fill="#E2B33D"/>
                <defs>
                <filter id="filter0_d" x="0" y="0" width="96" height="31" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
                <feOffset dx="1" dy="3"/>
                <feGaussianBlur stdDeviation="3"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                </filter>
                <linearGradient id="paint0_linear" x1="5" y1="3.73592" x2="57.3431" y2="54.5862" gradientUnits="userSpaceOnUse">
                <stop stop-color="#632FDE"/>
                <stop offset="0.0465075" stop-color="#8451B4"/>
                <stop offset="0.144441" stop-color="#A87687"/>
                <stop offset="0.462233" stop-color="#E2B33D"/>
                <stop offset="0.784198" stop-color="#DF9C3D"/>
                <stop offset="0.870785" stop-color="#DB7E3D"/>
                <stop offset="1" stop-color="#CF263C"/>
                </linearGradient>
                </defs>
              </svg>
            </ng-template>

          </div>

          <div class = "col-8 no-margin-no-padding profileLink">

            <div *ngIf="!inEditing;">
              <a (click)="goToLink()" style='cursor: pointer;'>
                {{link}}
              </a>
            </div>

            <div class='input'
                *ngIf="inEditing && editLink;"
                 contenteditable="true"
                 #linkRef
                 [textContent]="tempLink"
                 (input)="tempLink=$event.target.textContent"
                 (keydown.enter)="onPressEnter($event)"
                 (focus)='setCaret(false)'>
                 {{link}}
            </div>

            <div class='fill input-cover'
                *ngIf="inEditing && !editLink;">
            </div>

            <svg (click)='onEditLinkClick()'
                  *ngIf="inEditing && !editLink;"
                  class = "svgStyle" width="251" height="31" viewBox="0 0 251 31" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#filter0_d)">
              <rect x="1" y="1" width="238" height="20" rx="1.5" stroke="url(#paint0_linear)"/>
              </g>
              <path d="M51.3535 10.582L50.5449 8.34375L49.7305 10.582H51.3535ZM51.0078 6.56836L54.0605 15H52.959L51.6875 11.4961H49.3965L48.1016 15H46.9941L50.0879 6.56836H51.0078ZM61.7176 15H60.657V14.0625C60.2391 14.7812 59.6023 15.1406 58.7469 15.1406C57.8992 15.1406 57.1805 14.8477 56.5906 14.2617C56.0047 13.6719 55.7117 12.9766 55.7117 12.1758C55.7117 11.3672 56.0047 10.6699 56.5906 10.084C57.1805 9.49805 57.8992 9.20508 58.7469 9.20508C59.6023 9.20508 60.2391 9.56055 60.657 10.2715V6.56836H61.7176V15ZM60.657 12.5977V11.7422C60.5828 11.3555 60.4051 11.0215 60.1238 10.7402C59.7293 10.3418 59.2703 10.1426 58.7469 10.1426C58.2195 10.1426 57.7625 10.3379 57.3758 10.7285C56.9891 11.1191 56.7957 11.6016 56.7957 12.1758C56.7957 12.7461 56.9891 13.2246 57.3758 13.6113C57.7625 13.998 58.2195 14.1914 58.7469 14.1914C59.2703 14.1914 59.7293 13.9941 60.1238 13.5996C60.4051 13.3184 60.5828 12.9844 60.657 12.5977ZM69.8785 15H68.818V14.0625C68.4 14.7812 67.7633 15.1406 66.9078 15.1406C66.0602 15.1406 65.3414 14.8477 64.7516 14.2617C64.1656 13.6719 63.8727 12.9766 63.8727 12.1758C63.8727 11.3672 64.1656 10.6699 64.7516 10.084C65.3414 9.49805 66.0602 9.20508 66.9078 9.20508C67.7633 9.20508 68.4 9.56055 68.818 10.2715V6.56836H69.8785V15ZM68.818 12.5977V11.7422C68.7437 11.3555 68.566 11.0215 68.2848 10.7402C67.8902 10.3418 67.4312 10.1426 66.9078 10.1426C66.3805 10.1426 65.9234 10.3379 65.5367 10.7285C65.15 11.1191 64.9566 11.6016 64.9566 12.1758C64.9566 12.7461 65.15 13.2246 65.5367 13.6113C65.9234 13.998 66.3805 14.1914 66.9078 14.1914C67.4312 14.1914 67.8902 13.9941 68.2848 13.5996C68.566 13.3184 68.7437 12.9844 68.818 12.5977ZM75.1098 6.56836H76.2641L72.4438 15H71.2953L75.1098 6.56836ZM84.3664 13.1426L85.1047 13.7988C84.1555 14.6621 83.1105 15.0938 81.9699 15.0938C80.7434 15.0938 79.7062 14.6719 78.8586 13.8281C78.0148 12.9805 77.593 11.9648 77.593 10.7812C77.593 9.60938 78.0148 8.59766 78.8586 7.74609C79.7062 6.89453 80.7434 6.46875 81.9699 6.46875C83.1105 6.46875 84.1555 6.90234 85.1047 7.76953L84.3664 8.42578C83.593 7.74219 82.7941 7.40039 81.9699 7.40039C81.0715 7.40039 80.2941 7.72852 79.6379 8.38477C78.9855 9.03711 78.6594 9.83594 78.6594 10.7812C78.6594 11.7344 78.9855 12.5371 79.6379 13.1895C80.2941 13.8418 81.0715 14.168 81.9699 14.168C82.7941 14.168 83.593 13.8262 84.3664 13.1426ZM87.2305 6.56836H88.291V9.64453C88.4707 9.44922 88.8418 9.35156 89.4043 9.35156C90.0801 9.35156 90.625 9.55859 91.0391 9.97266C91.4531 10.3867 91.6641 10.8926 91.6719 11.4902V15H90.6172V11.5371C90.6172 11.1738 90.4941 10.873 90.248 10.6348C90.002 10.3926 89.7207 10.2715 89.4043 10.2715C89.0918 10.2715 88.8164 10.3848 88.5781 10.6113C88.4414 10.748 88.3457 10.8789 88.291 11.0039V15H87.2305V6.56836ZM99.8035 15H98.743V14.0625C98.325 14.7812 97.6883 15.1406 96.8328 15.1406C95.9852 15.1406 95.2664 14.8477 94.6766 14.2617C94.0906 13.6719 93.7977 12.9766 93.7977 12.1758C93.7977 11.3672 94.0906 10.6699 94.6766 10.084C95.2664 9.49805 95.9852 9.20508 96.8328 9.20508C97.6883 9.20508 98.325 9.56055 98.743 10.2715V9.64453H99.8035V15ZM98.743 12.5977V11.7422C98.6688 11.3555 98.491 11.0215 98.2098 10.7402C97.8152 10.3418 97.3563 10.1426 96.8328 10.1426C96.3055 10.1426 95.8484 10.3379 95.4617 10.7285C95.075 11.1191 94.8816 11.6016 94.8816 12.1758C94.8816 12.7461 95.075 13.2246 95.4617 13.6113C95.8484 13.998 96.3055 14.1914 96.8328 14.1914C97.3563 14.1914 97.8152 13.9941 98.2098 13.5996C98.491 13.3184 98.6688 12.9844 98.743 12.5977ZM103.166 11.0039V15H102.105V9.64453H103.166C103.345 9.44922 103.716 9.35156 104.279 9.35156C104.955 9.35156 105.5 9.55859 105.914 9.97266C106.328 10.3867 106.539 10.8926 106.546 11.4902V15H105.492V11.5371C105.492 11.1738 105.369 10.873 105.123 10.6348C104.877 10.3926 104.595 10.2715 104.279 10.2715C103.966 10.2715 103.691 10.3848 103.453 10.6113C103.316 10.748 103.22 10.8789 103.166 11.0039ZM113.571 11.7246C113.493 11.3457 113.309 11.0098 113.02 10.7168C112.641 10.334 112.19 10.1426 111.666 10.1426C111.139 10.1426 110.682 10.3379 110.295 10.7285C109.909 11.1191 109.715 11.6016 109.715 12.1758C109.715 12.7461 109.909 13.2266 110.295 13.6172C110.682 14.0039 111.139 14.1973 111.666 14.1973C112.19 14.1973 112.649 14 113.043 13.6055C113.317 13.332 113.493 13.0078 113.571 12.6328V11.7246ZM113.5 14.0918C113.133 14.791 112.522 15.1406 111.666 15.1406C110.819 15.1406 110.1 14.8477 109.51 14.2617C108.924 13.6719 108.631 12.9766 108.631 12.1758C108.631 11.3672 108.924 10.6719 109.51 10.0898C110.1 9.50391 110.819 9.21094 111.666 9.21094C112.518 9.21094 113.155 9.56445 113.577 10.2715V9.64453H114.637V13.6758C114.637 14.4609 114.354 15.1348 113.787 15.6973C113.194 16.2949 112.471 16.5938 111.62 16.5938C110.768 16.5938 110.051 16.3027 109.469 15.7207C109.336 15.584 109.168 15.3809 108.965 15.1113L109.979 14.7422C110.116 14.9141 110.211 15.0234 110.266 15.0703C110.645 15.4531 111.096 15.6445 111.62 15.6445C112.725 15.6445 113.352 15.127 113.5 14.0918ZM117.841 11.2324H121.351C121.101 10.5059 120.519 10.1426 119.605 10.1426C118.687 10.1426 118.099 10.5059 117.841 11.2324ZM117.654 12.1582V12.1758C117.654 12.7461 117.847 13.2246 118.234 13.6113C118.62 13.998 119.077 14.1914 119.605 14.1914C120.128 14.1914 120.587 13.9941 120.982 13.5996C121.036 13.5449 121.142 13.4219 121.298 13.2305L122.294 13.582C122.146 13.832 121.974 14.0527 121.779 14.2441C121.185 14.8418 120.46 15.1406 119.605 15.1406C118.757 15.1406 118.038 14.8477 117.448 14.2617C116.863 13.6719 116.57 12.9766 116.57 12.1758C116.57 11.3672 116.863 10.6699 117.448 10.084C118.038 9.49805 118.757 9.20508 119.605 9.20508C120.46 9.20508 121.185 9.50195 121.779 10.0957C122.29 10.6113 122.546 11.2988 122.546 12.1582H117.654ZM129.839 6.56836V15H128.778V6.56836H129.839ZM133.429 9.64453V15H132.375V9.64453H133.429ZM132.908 7.91016C133.123 7.91016 133.3 7.98047 133.441 8.12109C133.586 8.25781 133.658 8.41211 133.658 8.58398C133.658 8.76367 133.586 8.92383 133.441 9.06445C133.3 9.20117 133.123 9.26953 132.908 9.26953C132.685 9.26953 132.504 9.20117 132.363 9.06445C132.222 8.92383 132.152 8.76367 132.152 8.58398C132.152 8.41211 132.222 8.25781 132.363 8.12109C132.504 7.98047 132.685 7.91016 132.908 7.91016ZM136.967 11.0039V15H135.907V9.64453H136.967C137.147 9.44922 137.518 9.35156 138.08 9.35156C138.756 9.35156 139.301 9.55859 139.715 9.97266C140.129 10.3867 140.34 10.8926 140.348 11.4902V15H139.293V11.5371C139.293 11.1738 139.17 10.873 138.924 10.6348C138.678 10.3926 138.397 10.2715 138.08 10.2715C137.768 10.2715 137.493 10.3848 137.254 10.6113C137.118 10.748 137.022 10.8789 136.967 11.0039ZM145.937 9.64453L144.53 11.3906L146.57 15H145.357L143.845 12.2344L143.769 12.334V15H142.708V7.56445H143.769V10.7344L144.654 9.64453H145.937Z" fill="#E2B33D"/>
              <defs>
              <filter id="filter0_d" x="0" y="0" width="251" height="31" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
              <feOffset dx="1" dy="3"/>
              <feGaussianBlur stdDeviation="3"/>
              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0"/>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
              </filter>
              <linearGradient id="paint0_linear" x1="5" y1="3.73592" x2="38.5043" y2="96.3448" gradientUnits="userSpaceOnUse">
              <stop stop-color="#632FDE"/>
              <stop offset="0.0465075" stop-color="#8451B4"/>
              <stop offset="0.144441" stop-color="#A87687"/>
              <stop offset="0.462233" stop-color="#E2B33D"/>
              <stop offset="0.784198" stop-color="#DF9C3D"/>
              <stop offset="0.870785" stop-color="#DB7E3D"/>
              <stop offset="1" stop-color="#CF263C"/>
              </linearGradient>
              </defs>
              </svg>

          </div>

        </div>

        <div class = "row no-margin-no-padding profileMetrics" *ngIf='!editStickers'>

          <div class = "col-3 no-margin-no-padding metricsCol">

            <div class = "row no-margin-no-padding metricsSymbols" >

              <div class = "col-6 viewsSymbol no-margin-no-padding">
                <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1.27287 14.0514L1.17556 4.27573C1.17209 3.92691 1.36138 3.61712 1.69489 3.42578C2.02839 3.23444 2.42784 3.20648 2.7908 3.34905L14.9276 8.11658C15.5471 8.35993 15.6001 8.86995 15.6016 9.02047C15.6031 9.17099 15.5603 9.68197 14.9457 9.9376L2.90623 14.9458C2.54618 15.0955 2.14626 15.0755 1.80901 14.8909C1.47176 14.7062 1.27634 14.4003 1.27287 14.0514Z" fill="#8F8F8F"/>
                  <path d="M14.4571 9.0319L14.4571 9.0319L2.32032 4.26436C2.32032 4.26436 2.32032 4.26437 2.32032 4.26437L2.41762 14.0401C2.41762 14.0401 2.41762 14.0401 2.41762 14.0401C2.41762 14.0401 2.41763 14.0401 2.41763 14.0401L14.4571 9.0319C14.4571 9.0319 14.4571 9.0319 14.4571 9.0319ZM16.7464 9.00911C16.7537 9.74037 16.3176 10.476 15.4346 10.8434L3.39509 15.8515C1.88427 16.48 0.14293 15.5265 0.128361 14.0629L0.0310551 4.28715C0.0164859 2.82347 1.73851 1.83553 3.26153 2.43381L15.3983 7.20134C16.2885 7.55102 16.7391 8.27786 16.7464 9.00911Z" fill="#8F8F8F"/>
                </svg>
              </div>

              <div class = "col-6 holderSymbol no-margin-no-padding">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0)">
                  <path d="M7.99944 15.6182C3.79855 15.6182 0.380859 12.2004 0.380859 7.99929C0.380859 3.79822 3.79855 0.380371 7.99944 0.380371C12.2007 0.380371 15.6187 3.79822 15.6187 7.99929C15.6187 12.2004 12.2007 15.6182 7.99944 15.6182ZM7.99944 1.1428C4.21856 1.1428 1.14262 4.21859 1.14262 7.99929C1.14262 11.7804 4.21856 14.8565 7.99944 14.8565C11.7807 14.8565 14.857 11.7804 14.857 7.99929C14.857 4.21859 11.7807 1.1428 7.99944 1.1428Z" fill="#8F8F8F"/>
                  <path d="M1.51772 4.78063C2.70443 2.40058 5.1642 0.761938 7.99954 0.761938C10.8351 0.761938 13.2951 2.40049 14.482 4.78049C13.2951 2.4003 10.8351 0.76138 7.99954 0.76138C5.16425 0.76138 2.70443 2.40039 1.51772 4.78063ZM7.99954 15.9992C3.58859 15.9992 0 12.4105 0 7.99936C0 3.58821 3.58859 -0.000488281 7.99954 -0.000488281C12.4109 -0.000488281 15.9998 3.58821 15.9998 7.99936C15.9998 12.4105 12.4109 15.9992 7.99954 15.9992ZM7.99954 1.52381C4.42876 1.52381 1.52367 4.42876 1.52367 7.99936C1.52367 11.5704 4.42876 14.4756 7.99954 14.4756C11.5707 14.4756 14.4761 11.5704 14.4761 7.99936C14.4761 4.42876 11.5707 1.52381 7.99954 1.52381Z" fill="#8F8F8F"/>
                  <path d="M7.99993 13.7137C11.1558 13.7137 13.7142 11.1554 13.7142 7.99966C13.7142 4.8439 11.1558 2.28564 7.99993 2.28564C4.84402 2.28564 2.28564 4.8439 2.28564 7.99966C2.28564 11.1554 4.84402 13.7137 7.99993 13.7137Z" fill="#8F8F8F"/>
                  </g>
                  <defs>
                  <clipPath id="clip0">
                  <rect width="16" height="16" fill="white"/>
                  </clipPath>
                  </defs>
                </svg>
              </div>

            </div>

            <div class = "row metricsNumbers no-margin-no-padding">

              <div class = "col-6 viewNumbers no-margin-no-padding">
                <p class = "viewCounter">{{views}}</p>
              </div>

              <div class = "col-6 holderNumbers no-margin-no-padding">
                <p class = "holderCounter">{{collected}}</p>
              </div>

            </div>

            <div class = "row metricsLabel no-margin-no-padding">

              <div class = "col-6 viewLabel no-margin-no-padding">
                <p class = "views">Views</p>
              </div>

              <div class = "col-6 holderLabel no-margin-no-padding">
                <p class = "holders">Holders</p>
              </div>


            </div>


          </div>

          <div class = "col-8 usernameSpace no-margin-no-padding">
            <p #usernameRef class = "username">{{username}}</p>
          </div>

        </div>
      </div>

      <!-- Not logged in state -->

      <div class = "loggedout" *ngIf='!isAuthenticated'>

        <p class = "loggedoutText no-margin-no-padding">Sign In</p>

      </div>

    </div>
  </div>
</form>


